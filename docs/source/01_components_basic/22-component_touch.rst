.. note::

    こんにちは、SunFounder Raspberry Pi & Arduino & ESP32 Enthusiasts Communityへようこそ！Facebook上で、仲間と一緒にRaspberry Pi、Arduino、ESP32をさらに深く探求しましょう。

    **なぜ参加するのか？**

    - **専門的なサポート**：購入後の問題や技術的な課題をコミュニティやチームの助けを借りて解決。
    - **学びと共有**：スキルを向上させるためのヒントやチュートリアルを交換。
    - **限定プレビュー**：新製品発表や予告編に早期アクセス。
    - **特別割引**：最新製品の特別割引を楽しむ。
    - **フェスティブプロモーションとプレゼント**：プレゼントやホリデープロモーションに参加。

    👉 私たちと一緒に探索と創造を始める準備はできましたか？[|link_sf_facebook|]をクリックして、今すぐ参加しましょう！

.. _cpn_touch:

タッチセンサーモジュール
==========================

.. image:: img/22_touch_sensor_moudle.png
    :width: 200
    :align: center

タッチスイッチセンサー（タッチボタンまたはタッチスイッチとも呼ばれる）は、デバイスの制御（例：タッチ式ランプ）に広く使用されています。ボタンと同じ機能を持ち、新しいデバイスでは製品を整然と見せるためにボタンの代わりに使用されることが多いです。

ピン配置
---------------------------
* **VCC**: メインコントロールからの正電源入力。
* **GND**: 接地接続。
* **IO**: デジタル出力。タッチ時に高レベル、非タッチ時に低レベル。

原理
---------------------------
このモジュールは、タッチセンサーIC（TTP223B）を基にした静電容量式タッチスイッチモジュールです。通常状態では、モジュールは低消費電力で低レベルを出力します。指が対応する位置に触れると、モジュールは高レベルを出力し、指を離すと再び低レベルになります。

静電容量式タッチスイッチの動作原理は以下の通りです：

静電容量式タッチスイッチには、上部絶縁面板、タッチプレート、別の絶縁層、そして接地プレートという異なる層があります。

.. image:: img/22_touch_sensor_moudle_principle.jpeg
    :width: 400
    :align: center

.. raw:: html
    
    <br/>

実際には、片面をタッチセンサーとして、反対側をコンデンサの接地プレートと見なすことで、両面PCB上に静電容量センサーを作ることができます。これらのプレートに電力を供給すると、二つのプレートが充電され、平衡状態ではプレートは電源と同じ電圧を持ちます。

タッチ検出回路には、タッチパッドの静電容量に依存する周波数の発振器があります。指がタッチパッドに近づくと、追加の静電容量がこの内部発振器の周波数を変化させます。検出回路はタイミング間隔で発振器の周波数を追跡し、変動が閾値を超えると回路がキー押下イベントをトリガーします。

回路図
---------------------------

.. image:: img/22_touch_sensor_moudle_schematic.png
    :width: 100%
    :align: center

.. raw:: html

   <br/>

例
---------------------------
* :ref:`uno_lesson22_touch_sensor` (Arduino UNO)
* :ref:`esp32_lesson22_touch_sensor` (ESP32)
* :ref:`pico_lesson22_touch_sensor` (Raspberry Pi Pico)
* :ref:`pi_lesson22_touch_sensor` (Raspberry Pi)

* :ref:`uno_touch_toggle_light` (Arduino UNO)
* :ref:`esp32_touch_toggle_light` (ESP32)